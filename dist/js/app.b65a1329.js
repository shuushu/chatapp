(function(e){function t(t){for(var a,r,i=t[0],u=t[1],s=t[2],m=0,d=[];m<i.length;m++)r=i[m],o[r]&&d.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},o={app:0},c=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-04869cf8":"80f88694","chunk-0714cbc6":"0eb8661c","chunk-2567a75f":"a471e370","chunk-331c571e":"af31d0bf","chunk-bf8b74c8":"a1ab5b9b","chunk-dd322ae6":"9d80c280"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-04869cf8":1,"chunk-0714cbc6":1,"chunk-2567a75f":1,"chunk-331c571e":1,"chunk-bf8b74c8":1,"chunk-dd322ae6":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-04869cf8":"5c90e71b","chunk-0714cbc6":"00f1b532","chunk-2567a75f":"7cca2a82","chunk-331c571e":"eb015f11","chunk-bf8b74c8":"b3250fb8","chunk-dd322ae6":"496ea282"}[e]+".css",o=u.p+a,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],m=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(m===a||m===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){s=d[i],m=s.getAttribute("data-href");if(m===a||m===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.request=a,delete r[e],l.parentNode.removeChild(l),n(c)},l.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(l)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=c);var s,m=document.createElement("script");m.charset="utf-8",m.timeout=120,u.nc&&m.setAttribute("nonce",u.nc),m.src=i(e),s=function(t){m.onerror=m.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");c.type=a,c.request=r,n[1](c)}o[e]=void 0}};var d=setTimeout(function(){s({type:"timeout",target:m})},12e4);m.onerror=m.onload=s,document.head.appendChild(m)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/chat/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],m=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=m;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a80":function(e,t,n){},"325c":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return r});n("a481"),n("3b2b");var a=function(e){var t=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi,n=new RegExp(t);return n.test(e)},r=function(e){var t=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi;return e.replace(t,function(e){return'<a href="'+e+'" target="_blank">'+e+"</a>"})},o=function(e){var t=e.getMonth()+1,n=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(n>9?"":"0")+n].join("")}},4360:function(e,t,n){"use strict";var a,r=n("2b0e"),o=n("2f62"),c=n("795b"),i=n.n(c),u=(n("96cf"),n("f499")),s=n.n(u),m=n("8aa5"),d=n.n(m),l=n("cebc"),f=n("bd86"),h=n("5176"),p=n.n(h),E=(n("ac6a"),n("a49b")),b=n("b0b0"),_={};E["a"].forEach(function(e){var t;_=p()(_,(t={},Object(f["a"])(t,b["d"]["".concat(e,"_REQ_WAIT")],function(e){e.ready=!0}),Object(f["a"])(t,"".concat(e,"_REQ_SUCCESS"),function(e){e.ready=!1}),Object(f["a"])(t,"".concat(e,"_REQ_FAIL"),function(e){e.ready=!1}),t))});var g,v,S=Object(l["a"])({},_,(a={},Object(f["a"])(a,b["d"].SET_AUTH,function(e,t){e.auth=t}),Object(f["a"])(a,b["d"].SESSION_AUTH,function(e,t){e.auth=t}),Object(f["a"])(a,b["d"].SESSION_OUT,function(e,t){e.auth=t}),Object(f["a"])(a,b["d"].SET_INVITE,function(e,t){e.invite=t}),Object(f["a"])(a,b["d"].DEVICE_HEIGHT,function(e,t){e.height=t}),Object(f["a"])(a,b["d"].POPUP_ALERT,function(e,t){e.popupAlert=Object(l["a"])({isShow:!0},t)}),Object(f["a"])(a,b["d"].POPUP_CONFIRM,function(e,t){e.popupConfirm=Object(l["a"])({isShow:!0},t)}),a)),w=n("b112"),O=n("325c"),T={memberList:null},A={GET_MEMBER:function(e,t){e.memberList=t}},R={SET_FILTER:function(){return function(e,t){for(var n=JSON.parse(s()(e)),a=0,r=t.length;a<r;a+=1)n[t[a]].disabled=!0;return n}}},y={GET_MEMBER:regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!T.memberList){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(w["put"])(b["d"].GET_MEMBER_REQ_WAIT);case 4:return e.next=6,Object(w["call"])(function(){return new i.a(function(e){d.a.database().ref("myChat/users").on("value",function(n){var a=n.val(),r={};for(var o in a)r[o]=a[o];a?(t.commit(b["c"].GET_MEMBER,r),t.commit(b["d"].GET_MEMBER_REQ_SUCCESS),e(r)):(t.commit(b["d"].GET_MEMBER_REQ_FAIL),e(null))})})});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}),SET_JOIN:regeneratorRuntime.mark(function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=r[1],n=t.length,a={},e.next=3,Object(w["put"])(b["d"].SET_JOIN_REQ_WAIT);case 3:return e.next=5,Object(w["call"])(function(){return new i.a(function(e){2===n?d.a.database().ref("myChat/private/".concat(t[1])).child(t[0]).once("value").then(function(n){n.val()?a={hasRoom:!0,key:n.val()}:(a.hasRoom=!1,a.key=d.a.database().ref("myChat/private/".concat(t[1])).push().key,d.a.database().ref("myChat/private/".concat(t[1])).child(t[0]).set(a.key),d.a.database().ref("myChat/private/".concat(t[0])).child(t[1]).set(a.key)),e(a)}):(a.hasRoom=!1,a.key=d.a.database().ref().push().key,e(a))})});case 5:if(a=e.sent,!a.hasRoom){e.next=12;break}return e.next=9,Object(w["put"])(b["d"].SET_JOIN_REQ_SUCCESS);case 9:return e.abrupt("return",a.key);case 12:return e.next=14,Object(w["put"])(b["d"].SET_JOIN_REQ_SUCCESS);case 14:return e.next=16,Object(w["call"])(function(){return new i.a(function(e){var r={state:0,join:t,text:"방이 개설됨"},o=new Date;o=Object(O["c"])(o);for(var c=0;c<n;c+=1)d.a.database().ref("myChat/list/".concat(t[c])).child(a.key).update(r);var i={};i.members=t,i.item=[{write:"admin",text:"방이 개설됨",type:3}],i.date=o,d.a.database().ref("myChat/room/".concat(a.key)).set(i),e(a.key)})});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}},e)})},C={namespaced:!0,state:T,actions:y,getters:R,rootMutations:S,mutations:A},k=(n("7f7f"),{roomList:null,message:null,oldMsg:null,progress:0,chatMember:null,chatDate:null}),M={GET_ROOMLIST:function(e,t){e.roomList=t},GET_MESSAGE:function(e,t){e.message=t},GET_OLD_MESSAGE:function(e,t){e.oldMsg=t},SET_PROGRESS:function(e,t){e.progress=t},GET_CHAT_MEMBER:function(e,t){e.chatMember=t},GET_CHAT_DATE:function(e,t){e.chatDate=t}},G={GET_ROOMLIST:regeneratorRuntime.mark(function e(t,n){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.roomList){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,Object(w["put"])(b["d"].GET_ROOMLIST_REQ_WAIT);case 4:return e.next=6,Object(w["call"])(function(){return new i.a(function(){var e=t.rootState.auth.uid;g=d.a.database().ref("myChat/list/".concat(e)),g.on("value",function(e){var t=e.val();if(t){var r=function(e){for(var t={},a=0,r=e.length;a<r;a+=1){var o=e[a];t[o]=n[o]}return t};for(var o in t)t[o].join=r(t[o].join);a.commit(b["a"].GET_ROOMLIST,t),a.commit(b["d"].GET_ROOMLIST_REQ_SUCCESS)}else a.commit(b["a"].GET_ROOMLIST,null),a.commit(b["d"].GET_ROOMLIST_REQ_FAIL)})})});case 6:case"end":return e.stop()}},e)}),GET_MESSAGE:regeneratorRuntime.mark(function e(){var t=this,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return v&&v.off("value"),e.next=3,Object(w["put"])(b["d"].GET_MESSAGE_REQ_WAIT);case 3:return e.next=5,Object(w["call"])(function(){return new i.a(function(){var e={},a=n[1],r=t.state.chat.chatDate;if(e=JSON.parse(localStorage.getItem("myChatMessage")),null===e){var o={};o[a.key]={},o[a.key][a.today]={},e=o}e[a.key]||(e[a.key]={},e[a.key][a.today]={}),r!==a.today&&(d.a.database().ref("myChat/room/".concat(a.key,"/date")).set(a.today),d.a.database().ref("myChat/room/".concat(a.key,"/item")).set([{text:a.today,type:3,write:"admin"}])),v=d.a.database().ref("myChat/room/".concat(a.key,"/item")),v.on("value",function(n){n.val()?(r===a.today&&(e[a.key][a.today]=n.val()),localStorage.setItem("myChatMessage",s()(e)),t.commit(b["a"].GET_MESSAGE,n.val()),t.commit(b["d"].GET_MESSAGE_REQ_SUCCESS)):t.commit(b["d"].GET_MESSAGE_REQ_FAIL)})})});case 5:case"end":return e.stop()}},e)}),GET_OLD_MESSAGE:regeneratorRuntime.mark(function e(){var t,n,a,r,o,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["put"])(b["d"].GET_OLD_MESSAGE_REQ_WAIT);case 2:if(t=localStorage.getItem("myChatMessage"),n=c[1],!t){e.next=12;break}for(o in a=JSON.parse(t),r={},a[n.key])o!=n.today&&(r[o]=a[n.key][o]);return e.next=8,Object(w["put"])(b["a"].GET_OLD_MESSAGE,r);case 8:return e.next=10,Object(w["put"])(b["d"].GET_OLD_MESSAGE_REQ_SUCCESS);case 10:e.next=14;break;case 12:return e.next=14,Object(w["put"])(b["d"].GET_OLD_MESSAGE_REQ_FAIL);case 14:case"end":return e.stop()}},e)}),SEND_MESSAGE:regeneratorRuntime.mark(function e(){var t,n,a,r,o,c,i,u,s,m,l,f,h,p,E=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(t=E[1],n=t.type,a=t.write,r=t.today,o=t.key,c=t.text,i=t.path,u={type:n,text:c,write:a},s=this.state.chat.chatMember,m=this.state.chat.chatDate,r=new Date,r=Object(O["c"])(r),Object(O["a"])(c)&&(u.text=Object(O["b"])(c),u.vhtml=!0),1===n&&(u.path=i),m!==r?(l={},f=d.a.database().ref().push().key(),l[f]=u,d.a.database().ref("myChat/room/".concat(o,"/date")).set(r),d.a.database().ref("myChat/room/".concat(o,"/item")).set(l)):d.a.database().ref("myChat/room/".concat(o,"/item")).push(u),h=0,p=s.length;h<p;h+=1)d.a.database().ref("myChat/list/".concat(s[h],"/").concat(o,"/text")).set(c);return e.next=9,Object(w["put"])(b["d"].SEND_MESSAGE_REQ_SUCCESS);case 9:case"end":return e.stop()}},e,this)}),ADD_IMAGE:regeneratorRuntime.mark(function e(){var t,n=this,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a[1],e.next=3,Object(w["call"])(function(){return new i.a(function(e){var a=d.a.storage().ref("myChat/".concat(t.name)),r=a.put(t);r.on("state_changed",function(e){var t=e.bytesTransferred/e.totalBytes*100;n.commit(b["a"].SET_PROGRESS,t)},function(t){e(t.message)},function(){r.snapshot.ref.getDownloadURL().then(function(t){e(t)})})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}),GET_CHAT_MEMBER:regeneratorRuntime.mark(function e(){var t,n=this,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a[1],e.next=3,Object(w["call"])(function(){return new i.a(function(){d.a.database().ref("myChat/room/".concat(t.key,"/members")).once("value").then(function(e){n.commit(b["a"].GET_CHAT_MEMBER,e.val())})})});case 3:case"end":return e.stop()}},e)}),GET_CHAT_DATE:regeneratorRuntime.mark(function e(){var t,n=this,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a[1],e.next=3,Object(w["call"])(function(){return new i.a(function(e){d.a.database().ref("myChat/room/".concat(t.key,"/date")).on("value",function(t){n.commit(b["a"].GET_CHAT_DATE,t.val()),e(!0)})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})},I={namespaced:!0,state:k,actions:G,rootMutations:S,mutations:M},x={ready:!1,auth:null,height:null,popupAlert:{isShow:!1,message:null},popupConfirm:{isShow:!1,name:null,message:null,action:null},invite:!1},L={loginEmail:regeneratorRuntime.mark(function e(t,n){var a,r,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=n.id,r=n.pw,e.next=3,Object(w["put"])(b["d"].LOGIN_EMAIL_REQ_WAIT);case 3:return e.next=5,Object(w["call"])(function(){return new i.a(function(e){d.a.auth().signInWithEmailAndPassword(a,r).catch(function(t){e(Object(l["a"])({},t,{state:!1})),o.commit(b["d"].LOGIN_EMAIL_REQ_FAIL)}).then(function(t){t&&(e({state:!0}),o.commit(b["d"].LOGIN_EMAIL_REQ_SUCCESS))})})});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}),createMailID:regeneratorRuntime.mark(function e(t,n){var a,r,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=n.id,r=n.pw,o=n.name,e.next=3,Object(w["put"])(b["d"].CREATE_AUTH_REQ_WAIT);case 3:return e.next=5,Object(w["call"])(function(){return new i.a(function(e){d.a.auth().createUserWithEmailAndPassword(a,r).catch(function(t){c.commit(b["d"].CREATE_AUTH_REQ_FAIL),e(Object(l["a"])({},t,{state:!1}))}).then(function(t){if(t){var n=t.user.uid,r={};r[n]={email:a,displayName:o,photoURL:"http://placehold.it/60x60",uid:n},d.a.database().ref("myChat/users").update(r),c.commit(b["d"].CREATE_AUTH_REQ_SUCCESS),e({state:!0})}})})});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}),loginGoogle:regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["put"])(b["d"].LOGIN_GOOGLE_AUTH_REQ_WAIT);case 2:return e.next=4,Object(w["call"])(function(){return new i.a(function(e){var n=new d.a.auth.GoogleAuthProvider;n.addScope("https://www.googleapis.com/auth/contacts.readonly"),d.a.auth().signInWithPopup(n).then(function(n){if(n){var a=n.user,r=a.displayName,o=a.uid,c=a.email,i=a.photoURL;e(p()({displayName:r,uid:o,email:c,photoURL:i},{state:!0})),d.a.database().ref("myChat/users").child(o).set({displayName:r,uid:o,email:c,photoURL:i}),t.commit(b["d"].LOGIN_GOOGLE_AUTH_REQ_SUCCESS)}}).catch(function(n){e(Object(l["a"])({},n,{state:!1})),t.commit(b["d"].LOGIN_GOOGLE_AUTH_REQ_FAIL)})})});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}),getSession:regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state.auth,e.next=3,Object(w["call"])(function(){return new i.a(function(e){null===n?d.a.auth().onAuthStateChanged(function(n){n?d.a.database().ref("myChat/users/".concat(n.uid)).once("value").then(function(n){t.commit(b["d"].SESSION_AUTH,n.val()),e(n.val())}):t.commit(b["d"].SESSION_OUT,null)}):e(n)})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}),logout:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["call"])(function(){return new i.a(function(e){d.a.auth().signOut().then(function(){e(!0)}).catch(function(t){e(!1,t)})})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),dialogAlert:regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["put"])(b["d"].POPUP_ALERT,t[1]);case 2:case"end":return e.stop()}},e)}),dialogConfirm:regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["put"])(b["d"].POPUP_CONFIRM,t[1]);case 2:case"end":return e.stop()}},e)}),invite:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["put"])(b["d"].SET_INVITE,!this.state.invite);case 2:case"end":return e.stop()}},e,this)}),getDeviceHeight:regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["put"])(b["d"].DEVICE_HEIGHT,t[1]);case 2:case"end":return e.stop()}},e)})};r["default"].use(o["a"]);var j=new o["a"].Store({state:x,actions:L,mutations:S,modules:{chat:I,member:C}});t["a"]=j},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes.isOnepage,attrs:{id:"app"}},[this.onepage?e._e():n("header",{attrs:{id:"header"}},[n("transition",{attrs:{name:"head"}},["message"===this.$route.name?n("MsgHeader"):n("Header",{attrs:{name:this.$route.name}})],1)],1),n("transition",{attrs:{name:e.name}},[n("router-view")],1),this.onepage?e._e():n("footer",{attrs:{id:"footer"}},[n("transition",{attrs:{name:"msgform"}},["message"===this.$route.name?n("MessageForm"):n("Footer")],1)],1),e.popupAlert.isShow?n("md-dialog-alert",{attrs:{id:"popupAlert","md-active":e.popupAlert.isShow,"md-content":e.popupAlert.message,"md-confirm-text":"확인"},on:{"update:mdActive":function(t){return e.$set(e.popupAlert,"isShow",t)},"update:md-active":function(t){return e.$set(e.popupAlert,"isShow",t)}}}):e._e(),e.popupConfirm.isShow?n("md-dialog-confirm",{attrs:{id:"popupConfirm","md-active":e.popupConfirm.isShow,"md-title":e.popupConfirm.name,"md-content":e.popupConfirm.message},on:{"update:mdActive":function(t){return e.$set(e.popupConfirm,"isShow",t)},"update:md-active":function(t){return e.$set(e.popupConfirm,"isShow",t)},"md-confirm":function(t){return e.popupConfirm.action(e.popupConfirm)}}}):e._e()],1)},o=[],c=(n("6762"),n("7f7f"),n("cebc")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-toolbar",{staticClass:"md-primary"},[n("div",{staticClass:"md-toolbar-row"},[n("div",{staticClass:"md-toolbar-section-start"},[n("md-button",{staticClass:"md-icon-button",on:{click:e.historyBack}},[n("md-icon",[e._v("arrow_back")])],1)],1),e.name?n("h1",{staticClass:"head-title"},[e._v(e._s(e.name.toUpperCase()))]):e._e(),n("div",{staticClass:"md-toolbar-section-end"},[n("md-button",{staticClass:"md-icon-button",on:{click:e.logout}},[n("md-icon",[e._v("highlight_off")])],1)],1)])])},u=[],s={name:"Header",data:function(){return{selectedEmployee:""}},props:{name:{type:String}},methods:{historyBack:function(){this.$router.go(-1)},logout:function(){this.$run("dialogConfirm",{name:"로그아웃",message:"로그아웃 하시겠습니까?",action:this.actionLogout})},actionLogout:function(){var e=this;this.$run("logout").then(function(t){e.$run("dialogAlert",{message:t?"로그아웃 되었습니다":t.code})})}}},m=s,d=n("2877"),l=Object(d["a"])(m,i,u,!1,null,null,null),f=l.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-bottom-bar",{attrs:{"md-type":"shift","md-sync-route":""}},[n("md-bottom-bar-item",{attrs:{to:"/member",id:"bottom-bar-item-home","md-label":"MEMBER","md-icon":"people"}}),n("md-bottom-bar-item",{attrs:{to:"/list",id:"bottom-bar-item-pages","md-label":"LIST","md-icon":"chat"}}),n("md-bottom-bar-item",{attrs:{to:"/ready",id:"bottom-bar-item-posts","md-label":"rental","md-icon":"book"}}),n("md-bottom-bar-item",{attrs:{to:"/ready",id:"bottom-bar-item-favorites","md-label":"history","md-icon":"favorite"}})],1)},p=[],E={name:"Footer"},b=E,_=(n("e7bd"),Object(d["a"])(b,h,p,!1,null,"73561f48",null)),g=_.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-area"},[e.thumb?n("div",{staticClass:"img-layer"},[n("md-button",{staticClass:"md-icon-button add-file-close",on:{click:e.clear}},[n("md-icon",[e._v("close")])],1),n("img",{attrs:{src:e.thumb,alt:""}})],1):e._e(),n("md-button",{staticClass:"md-icon-button add-file"},[n("md-icon",[e._v("insert_photo")]),n("input",{staticClass:"file-hidden",attrs:{type:"file",accept:"image/*"},on:{change:e.handleChange}})],1),n("md-field",[n("label",[e._v("입력해주세요")]),n("md-input",{model:{value:e.userWrite,callback:function(t){e.userWrite=t},expression:"userWrite"}})],1),n("md-button",{staticClass:"send md-raised md-accent",attrs:{disabled:e.sendLoad},on:{click:e.sendMsg}},[n("md-icon",{staticClass:"md-primary"},[e._v("send")]),n("span",{staticClass:"text"},[e._v("SEND")])],1)],1)},S=[],w=n("325c"),O={name:"MessageForm",data:function(){return{userWrite:"",thumb:null,addFile:null,sendLoad:!1}},created:function(){var e=this;J.$on("sendResult",function(){e.sendcomplete()})},methods:{handleChange:function(e){var t=this;if(e.target.value){var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(){t.thumb=n.result},this.addFile=e.target.files[0]}},clear:function(){this.addFile="",this.thumb=""},sendMsg:function(){var e={text:this.userWrite,today:Object(w["c"])(new Date),type:0};if(this.addFile&&(e.addFile=this.addFile),""===this.userWrite){var t={message:"메세지를 입력해주세요"};return this.$run("dialogAlert",t),!0}this.sendLoad=!0,J.$emit("sendMessage",e)},sendcomplete:function(){this.userWrite="",this.thumb=null,this.addFile=null,this.sendLoad=!1}}},T=O,A=(n("efc5"),Object(d["a"])(T,v,S,!1,null,"091fb58c",null)),R=A.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-toolbar",{staticClass:"md-primary chat-header"},[n("div",{staticClass:"md-toolbar-row"},[n("div",{staticClass:"md-toolbar-section-start"},[n("md-button",{staticClass:"md-icon-button",on:{click:e.historyBack}},[n("md-icon",[e._v("arrow_back")])],1)],1),n("md-button",{staticClass:"md-accent",on:{click:e.memberJoin}},[n("md-icon",[e._v("people")]),e._v(" \n      다른 멤버 초대\n    ")],1)],1)])},C=[],k={name:"MsgHeader",data:function(){return{selectedEmployee:"dsadasd"}},props:{name:{type:String}},methods:{historyBack:function(){this.$router.go(-1)},memberJoin:function(){this.$run("invite")}}},M=k,G=Object(d["a"])(M,y,C,!1,null,null,null),I=G.exports,x=n("2f62"),L=["login"],j={name:"app",components:{Footer:g,Header:f,MessageForm:R,MsgHeader:I},data:function(){return{name:"",onepage:!1}},computed:Object(c["a"])({classes:function(){return{isOnepage:{onepage:this.onepage}}}},Object(x["c"])({popupAlert:function(e){return e.popupAlert},popupConfirm:function(e){return e.popupConfirm}})),watch:{$route:function(e,t){this.$run("getDeviceHeight",window.innerHeight),this.routeUpdate(e,t)}},methods:{routeUpdate:function(e,t){var n=this.$route.name;if(this.onepage=L.includes(n),null===t.name)return!0;"message"===e.name&&"list"===t.name&&"message"===n?this.name="message":"list"===e.name&&"message"===t.name&&"list"===n?this.name="list":this.name="none"}}},U=j,N=(n("5c0b"),Object(d["a"])(U,r,o,!1,null,null,null)),D=N.exports,H=n("43f9"),P=n.n(H),Q=n("5780"),F=n("b112"),B=n.n(F),$=n("8aa5"),W=n.n($),z=n("a49b"),Z=(n("51de"),n("e094"),n("4360"));n.d(t,"EventBus",function(){return J});var J=new a["default"];a["default"].use(B.a,{store:Z["a"]}),W.a.initializeApp(z["b"]),a["default"].use(P.a),new a["default"]({router:Q["a"],store:Z["a"],render:function(e){return e(D)}}).$mount("#app")},5780:function(e,t,n){"use strict";(function(e){n("7f7f");var a=n("75fc"),r=n("2b0e"),o=n("8c4f"),c=n("8aa5"),i=n.n(c),u=n("4360");r["default"].use(o["a"]),r["default"].component("router-link",r["default"].options.components.RouterLink),r["default"].component("router-view",r["default"].options.components.RouterView);var s=[{name:"login",path:"/login",component:"/Login"},{name:"list",path:"/list",component:"/List"},{name:"member",path:"/member",component:"/Member"},{name:"ready",path:"/ready",component:"/Ready"},{name:"message",path:"/message/:id",component:"/Message"}],m=[{path:"/",exact:"exact",redirect:"login"}],d=[].concat(Object(a["a"])(s.map(function(e){var t=e.name,a=e.path,r=e.component;return{path:a,name:t,component:function(){return n("5d57")("./container".concat(r))}}})),m),l=new o["a"]({mode:"history",base:e,routes:d});l.beforeEach(function(e,t,n){i.a.auth().onAuthStateChanged(function(t){t?u["a"].state.auth?"login"===e.name?n("/member"):n():i.a.database().ref("myChat/users/".concat(t.uid)).once("value").then(function(t){u["a"].commit("SESSION_AUTH",t.val()),"login"===e.name?n("/member"):n()}):"login"===e.name?n():n("/login")})}),t["a"]=l}).call(this,"/")},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5d57":function(e,t,n){var a={"./container/Error":["c851","chunk-2567a75f"],"./container/Error.vue":["c851","chunk-2567a75f"],"./container/List":["9788","chunk-bf8b74c8"],"./container/List.vue":["9788","chunk-bf8b74c8"],"./container/Login":["16b7","chunk-331c571e"],"./container/Login.vue":["16b7","chunk-331c571e"],"./container/Member":["1c8f","chunk-0714cbc6"],"./container/Member.vue":["1c8f","chunk-0714cbc6"],"./container/Message":["c9ac","chunk-dd322ae6"],"./container/Message.vue":["c9ac","chunk-dd322ae6"],"./container/Ready":["d8c9","chunk-04869cf8"],"./container/Ready.vue":["d8c9","chunk-04869cf8"]};function r(e){var t=a[e];return t?n.e(t[1]).then(function(){var e=t[0];return n(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(a)},r.id="5d57",e.exports=r},"5e27":function(e,t,n){},a054:function(e,t,n){},a49b:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a={apiKey:"AIzaSyBwc5tkZM3fEQcyPC1-HfguTbIt8woO9iA",authDomain:"shushu-cb26c.firebaseapp.com",databaseURL:"https://shushu-cb26c.firebaseio.com",storageBucket:"shushu-cb26c.appspot.com"},r=["INIT","LOGIN_EMAIL","LOGIN_GOOGLE_AUTH","CREATE_AUTH","GET_MEMBER","GET_ROOMLIST","GET_MESSAGE","GET_OLD_MESSAGE","SET_JOIN","SEND_MESSAGE"]},b0b0:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return d});var a=n("cebc"),r=n("bd86"),o=n("5176"),c=n.n(o),i=(n("ac6a"),n("a49b")),u={};i["a"].forEach(function(e){var t;u=c()(u,(t={},Object(r["a"])(t,"".concat(e,"_REQ_WAIT"),"".concat(e,"_REQ_WAIT")),Object(r["a"])(t,"".concat(e,"_REQ_SUCCESS"),"".concat(e,"_REQ_SUCCESS")),Object(r["a"])(t,"".concat(e,"_REQ_FAIL"),"".concat(e,"_REQ_FAIL")),t))}),t["d"]=Object(a["a"])({},u,{SET_AUTH:"SET_AUTH",SESSION_AUTH:"SESSION_AUTH",SESSION_OUT:"SESSION_OUT",SET_INVITE:"SET_INVITE",DEVICE_HEIGHT:"DEVICE_HEIGHT",POPUP_ALERT:"POPUP_ALERT",POPUP_CONFIRM:"POPUP_CONFIRM"});var s={GET_MEMBER:"member/GET_MEMBER",SET_JOIN:"member/SET_JOIN",SET_FILTER:"member/SET_FILTER"},m={GET_ROOMLIST:"chat/GET_ROOMLIST",GET_MESSAGE:"chat/GET_MESSAGE",GET_OLD_MESSAGE:"chat/GET_OLD_MESSAGE",SEND_MESSAGE:"chat/SEND_MESSAGE",ADD_IMAGE:"chat/ADD_IMAGE",SET_PROGRESS:"chat/SET_PROGRESS",GET_CHAT_MEMBER:"chat/GET_CHAT_MEMBER",GET_CHAT_DATE:"chat/GET_CHAT_DATE"},d={"auth/wrong-password":"비밀번호가 잘못 되었습니다","auth/user-not-found":"아이디가 잘못 되었습니다.","auth/email-already-in-use":"해당 이메일 사용되고 있습니다.","auth/popup-closed-by-user":"계정선택 팝업창을 닫아 로그인 화면으로 돌아갑니다."}},e7bd:function(e,t,n){"use strict";var a=n("1a80"),r=n.n(a);r.a},efc5:function(e,t,n){"use strict";var a=n("a054"),r=n.n(a);r.a}});
//# sourceMappingURL=app.b65a1329.js.map