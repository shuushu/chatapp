{"version":3,"sources":["webpack:///./src/container/Member.vue?1e3a","webpack:///src/container/Member.vue","webpack:///./src/container/Member.vue?9357","webpack:///./src/container/Member.vue","webpack:///./src/container/Message.vue?1f64","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/components/Talkbox.vue?9c2a","webpack:///./src/container/Member.vue?4711","webpack:///./src/container/Message.vue?72cd","webpack:///./src/components/Talkbox.vue?f2a1","webpack:///src/components/Talkbox.vue","webpack:///./src/components/Talkbox.vue?fd84","webpack:///./src/components/Talkbox.vue","webpack:///src/container/Message.vue","webpack:///./src/container/Message.vue?e5df","webpack:///./src/container/Message.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","invite","chatMember","attrs","id","md-diameter","md-mode","member","md-icon","md-label","md-description","_l","items","key","auth","uid","disabled","value","model","callback","$$v","checkArr","expression","src","photoURL","alt","displayName","_v","_s","email","_e","btnWrap","length","on","click","$event","memberJoin","toggle","staticRenderFns","Membervue_type_script_lang_js_","name","data","temp","props","type","Array","computed","Object","objectSpread","fetchData","filter","vuex_esm","state","isLoading","ready","memberList","namespace","SET_FILTER","created","$run","GET_MEMBER","methods","_this","message","concat","push","SET_JOIN","then","roomKey","$router","TOADY","util","Date","today","GET_CHAT_MEMBER","GET_CHAT_DATE","res","GET_MESSAGE","GET_OLD_MESSAGE","container_Membervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","global","scope","self","window","apply","Function","prototype","Timeout","clearFn","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","setImmediate","clearImmediate","process","undefined","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","installNextTickImplementation","canUsePostMessage","installPostMessageImplementation","MessageChannel","installMessageChannelImplementation","createElement","installReadyStateChangeImplementation","installSetTimeoutImplementation","args","i","task","handle","run","runIfPresent","nextTick","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","messagePrefix","Math","random","onGlobalMessage","event","source","indexOf","slice","addEventListener","attachEvent","channel","port1","port2","html","documentElement","script","onreadystatechange","removeChild","appendChild","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Talkbox_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Talkbox_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Member_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Member_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","inviteWrap","style","deviceHeight","date","pk","isWrite","write","mappingAvatar","mappingUserName","path","domProps","innerHTML","text","msg","sunUnread","unread","sendWaitCheck","md-stroke","pgr","md-value","tipFlag","latest","scrollToEnd","Talkboxvue_type_template_id_3cabb2d5_render","old","notice","right","_t","Talkboxvue_type_template_id_3cabb2d5_staticRenderFns","Talkboxvue_type_script_lang_js_","Boolean","default","components_Talkboxvue_type_script_lang_js_","Talkbox","Messagevue_type_script_lang_js_","components","Member","roomkey","scrollFlag","sendWait","chat","oldMsg","chatDate","progress","height","watch","timers_browserify_main","currentView","destroyed","main","$off","ROOMOUT","REMOVE_LATEST","_this2","$route","params","$on","sendMsg","SET_LATEST","updated","_this3","idx","msgSize","keys_default","cnt","init","container","$el","querySelector","body","current","scrollTop","scrollHeight","historyBack","go","_this4","promise_default","a","resolve","addFile","ADD_IMAGE","SEND_MESSAGE","result","$emit","handleChange","e","_this5","target","reader","FileReader","readAsDataURL","files","onload","thumb","clear","container_Messagevue_type_script_lang_js_","Message_component"],"mappings":"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","file":"js/chunk-e123192c.41336595.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",class:{ invite: _vm.chatMember },attrs:{\"id\":\"memberList\"}},[(_vm.isLoading)?_c('div',{staticClass:\"wrap-center\"},[_c('md-progress-spinner',{attrs:{\"md-diameter\":50,\"md-mode\":\"indeterminate\"}})],1):_c('div',[(_vm.member === null)?_c('div',{staticClass:\"md-empty-state-wrap\"},[_c('md-empty-state',{staticClass:\"md-primary\",attrs:{\"md-icon\":\"sentiment_dissatisfied\",\"md-label\":\"Nothing in Done\",\"md-description\":\"대화 가능 한 멤버 없음\"}})],1):_c('md-list',_vm._l((_vm.fetchData),function(items,key){return _c('div',{key:key},[(_vm.auth.uid != key)?_c('md-list-item',{staticClass:\"md-triple-line md-dense\"},[_c('md-checkbox',{attrs:{\"disabled\":items.disabled,\"value\":items.uid},model:{value:(_vm.checkArr),callback:function ($$v) {_vm.checkArr=$$v},expression:\"checkArr\"}}),_c('md-avatar',[_c('img',{attrs:{\"src\":items.photoURL,\"alt\":items.displayName}})]),_c('div',{staticClass:\"md-list-item-text\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(items.displayName))]),_c('span',{staticClass:\"desc\"},[_vm._v(_vm._s(items.email))])])],1):_vm._e()],1)}),0),_c('div',{class:{ btnWrap: _vm.chatMember }},[(_vm.checkArr.length > 0)?_c('md-button',{staticClass:\"join md-raised md-accent\",on:{\"click\":function($event){return _vm.memberJoin()}}},[_c('md-icon',{staticClass:\"md-primary\"},[_vm._v(\"people\")]),_vm._v(\" JOIN\\n        \")],1):_vm._e(),(_vm.chatMember)?_c('md-button',{staticClass:\"join md-raised md-primary\",on:{\"click\":function($event){return _vm.toggle()}}},[_c('md-icon',{staticClass:\"md-primary\"},[_vm._v(\"cancel\")]),_vm._v(\" cancel\\n        \")],1):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"memberList\" class=\"page\" :class=\"{ invite: chatMember }\">\r\n    <div v-if=\"isLoading\" class=\"wrap-center\">\r\n      <md-progress-spinner :md-diameter=\"50\" md-mode=\"indeterminate\"></md-progress-spinner>\r\n    </div>\r\n    <div v-else>\r\n      <div v-if=\"member === null\" class=\"md-empty-state-wrap\">\r\n        <md-empty-state\r\n          class=\"md-primary\"\r\n          md-icon=\"sentiment_dissatisfied\"\r\n          md-label=\"Nothing in Done\"\r\n          md-description=\"대화 가능 한 멤버 없음\">\r\n        </md-empty-state>\r\n      </div>      \r\n      <md-list v-else>\r\n        <div v-for=\"(items, key) in fetchData\" :key=\"key\">\r\n            <md-list-item class=\"md-triple-line md-dense\" v-if=\"auth.uid != key\">\r\n                <md-checkbox :disabled=\"items.disabled\" v-model=\"checkArr\" :value=\"items.uid\"></md-checkbox>\r\n                <md-avatar>\r\n                  <img :src=\"items.photoURL\" :alt=\"items.displayName\">\r\n                </md-avatar>\r\n\r\n                <div class=\"md-list-item-text\">\r\n                  <span class=\"title\">{{ items.displayName }}</span>\r\n                  <span class=\"desc\">{{ items.email }}</span>\r\n                </div>\r\n            </md-list-item>          \r\n        </div>\r\n      </md-list>\r\n      <div :class=\"{ btnWrap: chatMember }\">\r\n          <md-button v-if=\"checkArr.length > 0\" class=\"join md-raised md-accent\" @click=\"memberJoin()\">\r\n            <md-icon class=\"md-primary\">people</md-icon> JOIN\r\n          </md-button>\r\n          <md-button v-if=\"chatMember\" class=\"join md-raised md-primary\" @click=\"toggle()\">\r\n            <md-icon class=\"md-primary\">cancel</md-icon> cancel\r\n          </md-button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapState, mapGetters } from 'vuex'\r\n  import { CHAT, MEMBER } from '@/store/namespace'\r\n  import { yyyymm } from '@/common/util'\r\n  \r\n  export default {\r\n    name: 'Member',\r\n    data () {\r\n      return {        \r\n          checkArr: [],\r\n          temp: null      \r\n      }\r\n    },\r\n    props: {\r\n        chatMember: {\r\n            type: Array\r\n        }\r\n    },\r\n    computed: {\r\n      fetchData() {\r\n        if (this.chatMember) {\r\n          return this.filter(this.member, this.chatMember)\r\n        } else {\r\n          return this.member\r\n        }        \r\n      },\r\n      ...mapState({\r\n          auth: state => state.auth,\r\n          isLoading: state => state.ready,\r\n          member: state => state.member.memberList\r\n      }),\r\n      ...mapGetters({\r\n        filter: MEMBER.SET_FILTER\r\n      }) \r\n    },\r\n    created () {      \r\n        this.$run(MEMBER.GET_MEMBER)\r\n    },\r\n    methods: {\r\n        toggle () {\r\n            this.$run('invite')\r\n        },\r\n        memberJoin() {            \r\n            // 채팅방에서 초대할때\r\n            if(this.chatMember) {\r\n              this.$run('dialogAlert', { message: '초대하였습니다.' })\r\n              this.checkArr = this.checkArr.concat(this.chatMember)\r\n            } else {\r\n              // 내 uid 추가              \r\n              this.checkArr.push(this.auth.uid);\r\n            }\r\n   \r\n            this.$run(MEMBER.SET_JOIN, this.checkArr).then(roomKey => {                \r\n                this.$router.push(`/message/${roomKey}`)\r\n                \r\n                const TOADY = yyyymm(new Date());\r\n\r\n                if(this.chatMember) {\r\n                    let data = {\r\n                      key: roomKey,\r\n                      today: TOADY\r\n                    };\r\n\r\n                    // [비정상 접근]새로 고침시 채팅에 속한 멤버 정보가 없으므로 리스트로 보낸다.\r\n                    if (this.member === null) {        \r\n                      this.$router.push('/list')\r\n                    } else {\r\n                      this.$run(CHAT.GET_CHAT_MEMBER, data)\r\n                      this.$run(CHAT.GET_CHAT_DATE, data).then(res => {\r\n                        if (res) {\r\n                            this.$run(CHAT.GET_MESSAGE, data)\r\n                            this.$run(CHAT.GET_OLD_MESSAGE, data)\r\n                            this.toggle();\r\n                        }\r\n                      })\r\n                    } \r\n                }\r\n            })\r\n        }        \r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#memberList{\r\n  &.invite{\r\n    z-index: 30;\r\n    top: 56px;\r\n    width: 100%;\r\n    right: 0;\r\n    background: rgba(0, 0, 0, .5);\r\n    > div{\r\n      margin-left: 20%;\r\n      height: 100%;\r\n      position: absolute;\r\n      width: 80%;\r\n      right: 0;\r\n      padding-top: 0;\r\n      background: #fff;\r\n    }\r\n    .btnWrap{\r\n      display: flex;\r\n      padding: 0 10px 150px 10px;      \r\n      margin: 0;\r\n      background: #fff;\r\n      .md-accent,\r\n      .md-accent + .md-button{\r\n        width: 48%;\r\n      }\r\n    }\r\n  }\r\n  .md-checkbox {\r\n    margin-right: 15px;\r\n  }\r\n  .md-avatar {\r\n    margin-right: 15px;\r\n  }\r\n  .join {\r\n    i {\r\n      margin-right: 5px;\r\n    }\r\n    width: 95%;\r\n    display: block;\r\n    margin: 20px auto;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: normal;\r\n  }\r\n  .md-list-item{    \r\n    &::after{\r\n      content: '';\r\n      width: 98%;\r\n      height: 1px;\r\n      display: block;\r\n      background-color: #ccc;\r\n      margin: 0 auto;\r\n    }\r\n    .md-list-item-container{\r\n      padding: 10px 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Member.vue?vue&type=template&id=3aaf635f&\"\nimport script from \"./Member.vue?vue&type=script&lang=js&\"\nexport * from \"./Member.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Member.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=scss&\"","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",class:{ inviteWrap:_vm.invite },attrs:{\"id\":\"message\"}},[_c('div',{staticClass:\"message-wrap\",style:((\"min-height:\" + (_vm.deviceHeight-80) + \"px\"))},[_vm._l((_vm.oldMsg),function(date,pk){return _c('div',{key:(\"old-\" + pk),staticClass:\"old-items\"},_vm._l((date),function(item,key){return _c('div',{key:(\"old-item-\" + key),staticClass:\"talk-items\",class:_vm.isWrite(item.write)},[(_vm.isWrite(item.write) != 'notice')?_c('div',{staticClass:\"img-wrap\"},[_c('md-avatar',[_c('img',{attrs:{\"src\":_vm.mappingAvatar(item.write),\"alt\":_vm.mappingUserName(item.write)}})]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.mappingUserName(item.write)))])],1):_vm._e(),_c('div',{staticClass:\"talk-wrap\"},[_c('Talkbox',{class:_vm.isWrite(item.write)},[(item.type === 1)?_c('div',{staticClass:\"addfile-image\"},[_c('img',{attrs:{\"src\":item.path,\"alt\":\"\"}})]):_vm._e(),(item.vhtml)?_c('span',{domProps:{\"innerHTML\":_vm._s(item.text)}}):_c('span',[_vm._v(_vm._s(item.text))])])],1)])}),0)}),_vm._l((_vm.message),function(msg,pk,i){return _c('div',{key:pk,staticClass:\"talk-items\",class:_vm.isWrite(msg.write)},[(_vm.isWrite(msg.write) != 'notice')?_c('div',{staticClass:\"img-wrap\"},[_c('md-avatar',[_c('img',{attrs:{\"src\":_vm.mappingAvatar(msg.write),\"alt\":_vm.mappingUserName(msg.write)}})]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.mappingUserName(msg.write)))])],1):_vm._e(),_c('div',{staticClass:\"talk-wrap\"},[_c('Talkbox',{class:_vm.isWrite(msg.write)},[(msg.type === 1)?_c('div',{staticClass:\"addfile-image\"},[_c('img',{attrs:{\"src\":msg.path,\"alt\":\"\"}})]):_vm._e(),(msg.vhtml)?_c('span',{domProps:{\"innerHTML\":_vm._s(msg.text)}}):_c('span',[_vm._v(_vm._s(msg.text))]),(msg.unread)?_c('span',{staticClass:\"unread\"},[_vm._v(\"\\n                \"+_vm._s(_vm.sunUnread(msg.unread))+\" \\n              \")]):_vm._e(),(_vm.sendWaitCheck(i))?_c('md-progress-spinner',{staticClass:\"md-accent msgLoading\",attrs:{\"md-diameter\":10,\"md-stroke\":1,\"md-mode\":\"indeterminate\"}}):_vm._e()],1)],1)])})],2),(_vm.pgr > 0 && _vm.pgr < 100)?_c('div',{staticClass:\"upload-progress\"},[_c('md-progress-spinner',{staticClass:\"md-accent\",attrs:{\"md-mode\":\"determinate\",\"md-value\":_vm.pgr}})],1):_vm._e(),_c('transition',{attrs:{\"name\":\"popmember\"}},[(_vm.invite)?_c('Member',{attrs:{\"chatMember\":_vm.chatMember}}):_vm._e()],1),_c('transition',{attrs:{\"name\":\"msgAlarm\"}},[(_vm.tipFlag === true && _vm.latest !== false)?_c('div',{staticClass:\"alarmLayer\",on:{\"click\":function($event){return _vm.scrollToEnd('pop');}}},[_c('div',{staticClass:\"wrap\"},[_c('md-avatar',[_c('img',{attrs:{\"src\":_vm.member[_vm.latest.write].photoURL,\"alt\":_vm.member[_vm.latest.write].displayName}})]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.member[_vm.latest.write].displayName))]),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.latest.text))])],1)]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"talkBox\",class:{ old: _vm.old, notice: _vm.notice, right: _vm.right }},[_c('div',{staticClass:\"wrap\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"talkBox\" :class=\"{ old: old, notice: notice, right: right }\">\r\n        <div class=\"wrap\">\r\n            <slot></slot>\r\n        </div>        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'Talkbox',\r\n        props: {\r\n            old: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            notice: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            right: {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .talkBox {\r\n        display: inline-block;\r\n        position: relative;\r\n        padding: 10px;\r\n        margin-left: 10px;\r\n        border-radius: 10px;\r\n        border: solid 2px #448aff;\r\n        font-size: 14px;\r\n    }\r\n    .talkBox .wrap{\r\n        word-break: break-all;\r\n    }\r\n    .talkBox::before{\r\n        content: '';\r\n        position: absolute;\r\n        left: -11px;\r\n        top: 8px;\r\n        width: 0px;\r\n        height: 0px;\r\n        border-top: 5px solid transparent;\r\n        border-bottom: 5px solid transparent;\r\n        border-right: 9px solid #448aff;\r\n    }\r\n    .talkBox.right{\r\n        margin-right: 10px;\r\n    }\r\n    .talkBox.right::before{\r\n        content: '';\r\n        position: absolute;\r\n        left: inherit;\r\n        right: -11px;        \r\n        top: 8px;\r\n        border-top: 5px solid transparent;\r\n        border-bottom: 5px solid transparent;\r\n        border-left: 9px solid #448aff;\r\n        border-right: 0;\r\n    }                \r\n    .talkBox.notice {\r\n        width: 100%;\r\n        position: absolute;\r\n        top: 0;\r\n        margin: 0;\r\n        text-align: center;\r\n        border-width: 1px;\r\n        border-color: #e19c9c;\r\n        background-color: rgba(255, 255, 255, .8);    \r\n    }\r\n    .talkBox.notice::before {\r\n        display: none;\r\n    }\r\n\r\n    .old{\r\n        color: #666;\r\n        border-color: #ccc;        \r\n    }\r\n    .old::before{\r\n        border-right-color: #ccc\r\n    }\r\n    .old.right{\r\n        float: right;\r\n        text-align: right;\r\n    }\r\n    .old.right::before{\r\n        border-left-color: #ccc\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Talkbox.vue?vue&type=template&id=3cabb2d5&\"\nimport script from \"./Talkbox.vue?vue&type=script&lang=js&\"\nexport * from \"./Talkbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Talkbox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"message\"  class=\"page\" :class=\"{ inviteWrap:invite }\">\r\n    <div class=\"message-wrap\" :style=\"`min-height:${deviceHeight-80}px`\">\r\n        <!-- 이전 메세지 -->\r\n        <div class=\"old-items\" v-for=\"(date, pk) in oldMsg\" :key=\"`old-${pk}`\">\r\n          <div class=\"talk-items\" :class=\"isWrite(item.write)\" v-for=\"(item, key) in date\" :key=\"`old-item-${key}`\">              \r\n              <div class=\"img-wrap\" v-if=\"isWrite(item.write) != 'notice'\">\r\n                <md-avatar>            \r\n                  <img :src=\"mappingAvatar(item.write)\" :alt=\"mappingUserName(item.write)\">\r\n                </md-avatar>\r\n                <span class=\"name\">{{ mappingUserName(item.write) }}</span>\r\n              </div>\r\n              <div class=\"talk-wrap\">\r\n                  <Talkbox :class=\"isWrite(item.write)\">\r\n                    <div class=\"addfile-image\" v-if=\"item.type === 1\"><img :src=\"item.path\" alt=\"\"></div>\r\n                    <span v-if=\"item.vhtml\" v-html=\"item.text\"></span>\r\n                    <span v-else>{{ item.text }}</span>                    \r\n                  </Talkbox>\r\n              </div>              \r\n          </div>        \r\n        </div>\r\n        <!-- 신규 메세지 -->        \r\n        <div class=\"talk-items\" :class=\"isWrite(msg.write)\" v-for=\"(msg, pk, i) in message\" :key=\"pk\">\r\n          <div class=\"img-wrap\" v-if=\"isWrite(msg.write) != 'notice'\">\r\n            <md-avatar>            \r\n              <img :src=\"mappingAvatar(msg.write)\" :alt=\"mappingUserName(msg.write)\">\r\n            </md-avatar>\r\n            <span class=\"name\">{{ mappingUserName(msg.write) }}</span>\r\n          </div>\r\n          <div class=\"talk-wrap\">\r\n              <Talkbox :class=\"isWrite(msg.write)\">\r\n                <div class=\"addfile-image\" v-if=\"msg.type === 1\"><img :src=\"msg.path\" alt=\"\"></div>\r\n                <span v-if=\"msg.vhtml\" v-html=\"msg.text\"></span>\r\n                <span v-else>{{ msg.text }}</span>\r\n                <span v-if=\"msg.unread\" class=\"unread\">\r\n                  {{ sunUnread(msg.unread) }} \r\n                </span>\r\n                <md-progress-spinner v-if=\"sendWaitCheck(i)\"  :md-diameter=\"10\" class=\"md-accent msgLoading\" :md-stroke=\"1\" md-mode=\"indeterminate\"></md-progress-spinner>\r\n              </Talkbox>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"upload-progress\" v-if=\"pgr > 0 && pgr < 100\">\r\n      <md-progress-spinner class=\"md-accent\" md-mode=\"determinate\" :md-value=\"pgr\"></md-progress-spinner>\r\n    </div>\r\n\r\n    <transition name=\"popmember\">\r\n      <Member  :chatMember=\"chatMember\" v-if=\"invite\" />\r\n    </transition>\r\n\r\n    <transition name=\"msgAlarm\">\r\n      <div class=\"alarmLayer\" v-if=\"tipFlag === true && latest !== false\" @click=\"scrollToEnd('pop');\">\r\n        <div class=\"wrap\">\r\n          <md-avatar>            \r\n            <img :src=\"member[latest.write].photoURL\" :alt=\"member[latest.write].displayName\" />\r\n          </md-avatar>\r\n          <span class=\"name\">{{member[latest.write].displayName}}</span>\r\n          <span class=\"text\">{{latest.text}}</span>\r\n        </div>\r\n      </div>      \r\n    </transition>\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\n  import { mapState } from 'vuex'\r\n  import { CHAT } from '@/store/namespace'\r\n  import Talkbox from '@/components/Talkbox.vue'\r\n  import Member from '@/container/Member.vue'\r\n  import { EventBus } from '@/main'  \r\n  import { yyyymm, isCurrentView } from '@/common/util'\r\nimport { setTimeout } from 'timers';\r\n  \r\n  export default {\r\n    name: 'Message',\r\n    components: { \r\n      Talkbox,\r\n      Member\r\n    },\r\n    data () {\r\n      return {\r\n        tipFlag: false,\r\n        roomkey: null,\r\n        scrollFlag: false,\r\n        sendWait: false\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n          latest: state => state.chat.latest,\r\n          invite: state => state.invite,\r\n          auth: state => state.auth,\r\n          message: state => state.chat.message,\r\n          oldMsg: state => state.chat.oldMsg,\r\n          member: state => state.member.memberList,\r\n          chatMember: state => state.chat.chatMember,\r\n          chatDate: state => state.chat.chatDate,\r\n          pgr: state => state.chat.progress,\r\n          deviceHeight: state => state.height\r\n      })\r\n    },\r\n    watch: { \r\n      message() {\r\n        setTimeout(() => {\r\n          if (this.latest !== false && this.auth.uid !== this.latest.write) {\r\n            let currentView = this.scrollToEnd();          \r\n            // 이전 메세지를 보고 있을 때\r\n            if (currentView === false) {\r\n              this.tipFlag = true\r\n              setTimeout(() => {\r\n                this.tipFlag = false\r\n              }, 3000)\r\n            }\r\n          } \r\n        }, 300)       \r\n      }   \r\n    },\r\n    destroyed() {\r\n      EventBus.$off('sendMessage')\r\n      this.$run(CHAT.ROOMOUT, this.roomkey)\r\n      this.$run(CHAT.REMOVE_LATEST, this.roomkey)\r\n    },\r\n    created () {\r\n      this.roomkey = this.$route.params.id\r\n      let data = {\r\n        key: this.roomkey,\r\n        today: yyyymm(new Date())\r\n      };      \r\n\r\n      // 풋터메세지폼\r\n      EventBus.$on('sendMessage', value => {        \r\n        if (value) {\r\n            this.sendMsg(value)\r\n        }        \r\n      })\r\n\r\n      // [비정상 접근]새로 고침시 채팅에 속한 멤버 정보가 없으므로 리스트로 보낸다.\r\n      if (this.member === null) {        \r\n        this.$router.push('/list')\r\n      } else {\r\n        this.$run(CHAT.SET_LATEST, data)\r\n        this.$run(CHAT.GET_CHAT_MEMBER, data)        \r\n        this.$run(CHAT.GET_CHAT_DATE, data).then(res => {\r\n          if (res) {\r\n              this.$run(CHAT.GET_MESSAGE, data)\r\n              this.$run(CHAT.GET_OLD_MESSAGE, data)              \r\n          }\r\n        })\r\n      }  \r\n    },\r\n    updated() {\r\n      if (!this.scrollFlag) {          \r\n          setTimeout(() => {\r\n            this.scrollToEnd(true);\r\n          }, 1000)\r\n          this.scrollFlag = true\r\n        }      \r\n    },\r\n    methods: {\r\n        sendWaitCheck(idx) {\r\n          // 메세지가 wait상태일때 마지막 메세지 wait처리\r\n          if (this.sendWait) {\r\n            let msgSize = Object.keys(this.message).length\r\n\r\n            return idx === msgSize - 1\r\n          }                  \r\n        },\r\n        sunUnread(data) {          \r\n          let cnt = 0;\r\n          for (let item in data) {\r\n            cnt += data[item]\r\n          }\r\n          if (cnt > 0) {\r\n            return cnt\r\n          }\r\n        },\r\n        scrollToEnd(init) {\r\n          let container = this.$el.querySelector('.message-wrap'),\r\n              html = document.querySelector('html'),\r\n              body = document.querySelector('body'),\r\n              deviceHeight = this.deviceHeight,\r\n              current = isCurrentView(deviceHeight, container);\r\n\r\n          if (current || init) {\r\n            html.scrollTop = container.scrollHeight;\r\n            body.scrollTop = container.scrollHeight;\r\n            if (init === 'pop') {\r\n              this.tipFlag = false\r\n            }\r\n          }\r\n          \r\n          return current;\r\n        },\r\n    \r\n        historyBack(){\r\n          this.$router.go(-1)\r\n        },\r\n        sendMsg(data) {\r\n          // 메세지 수신대기 상태\r\n          this.sendWait = true;\r\n\r\n          data.key = this.$route.params.id\r\n          data.write = this.auth.uid            \r\n          new Promise(resolve => {\r\n              // 이미지 첨부할때\r\n              if (data.addFile) {\r\n                this.$run(CHAT.ADD_IMAGE, data.addFile).then(path => {\r\n                  data.path = path;\r\n                  data.type = 1;\r\n                  this.$run(CHAT.SEND_MESSAGE, data).then(result => {\r\n                    if (result) {\r\n                      resolve(true)\r\n                    } else {\r\n                      resolve(false)\r\n                    }\r\n                  })\r\n                })\r\n              } else {                \r\n                this.$run(CHAT.SEND_MESSAGE, data).then(result => {\r\n                  if (result) {\r\n                    resolve(true)\r\n                  } else {\r\n                    resolve(false)\r\n                  }\r\n                })                \r\n              }\r\n          }).then(res => {\r\n            this.sendWait = false;          \r\n            // 프로세스가 순차처리 되었을때\r\n            if (res) {\r\n              EventBus.$emit('sendResult', true) \r\n              // 내가 메세지를 보내었으면 스크롤을 하단으로 보낸다.            \r\n              this.scrollToEnd(true);\r\n            } else {\r\n              this.$run('dialogAlert', { message: '메세지 전송중 에러 발생' })\r\n            }      \r\n          })\r\n        },\r\n        mappingAvatar(uid) {\r\n          if (this.auth.uid === uid) {\r\n            return this.auth.photoURL\r\n          } else {\r\n            return this.member[uid].photoURL\r\n          }\r\n        },\r\n        mappingUserName(uid) {\r\n          if (this.auth.uid === uid) {\r\n            return this.auth.displayName\r\n          } else {\r\n            if (uid !== 'admin') {\r\n              return this.member[uid].displayName\r\n            } else {\r\n              return uid\r\n            }\r\n          }\r\n        },\r\n        isWrite(uid) {\r\n          if (uid === 'admin') {\r\n            return 'notice'\r\n          }\r\n\r\n          if (this.auth.uid === uid) {\r\n            return 'left'\r\n          } else {\r\n            return 'right'\r\n          }\r\n        },\r\n        handleChange(e) {\r\n          \r\n          if (e.target.value) {\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(e.target.files[0]);\r\n\r\n            reader.onload = () => {\r\n              this.thumb = reader.result\r\n            }\r\n            this.addFile = e.target.files[0];\r\n          }\r\n        },\r\n        clear() {\r\n          this.addFile = '';\r\n          this.thumb = '';\r\n        }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#message{\r\n  height: auto;\r\n  top: 0;\r\n  z-index: 20;\r\n  padding-top: 48px;\r\n  > div{\r\n    padding: 0;\r\n  }\r\n  .left{\r\n    .unread{\r\n      right: 0;\r\n      margin-right: -14px;\r\n    }\r\n    .msgLoading{\r\n      right: 0;\r\n      margin-right: -17px;\r\n    }\r\n  }\r\n  \r\n  .right{\r\n    .unread{\r\n      left: 0;\r\n      margin-left: -14px;\r\n    }\r\n    .msgLoading{\r\n      left: 0;\r\n      margin-left: -17px;\r\n    }    \r\n  }\r\n  .msgLoading{\r\n    position: absolute;\r\n    top: 5px;\r\n  }\r\n  .unread{    \r\n    position: absolute;    \r\n    font-size: 11px;\r\n    top: 0;\r\n    color: #ff5252;\r\n  }\r\n  .message-wrap{\r\n    padding-bottom: 150px;\r\n    box-sizing: border-box\r\n  }\r\n  // 멤버레이어가 나올때\r\n  &.inviteWrap {\r\n    overflow: hidden;\r\n    height: 100%;\r\n    .message-wrap{      \r\n      height: 100%;\r\n      box-sizing: border-box;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n\r\n  .add-member{\r\n    position: absolute;\r\n    left: 60px;\r\n    top: 17px;\r\n  }\r\n  .addfile-image{\r\n    > img{\r\n      max-width: 150px;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n  .upload-progress{\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 10;\r\n  }\r\n\r\n \r\n  .talk-items{\r\n    display: flex;\r\n    margin: 20px 10px;\r\n    position: relative;\r\n    overflow: hidden;    \r\n    &.right{\r\n          flex-direction: row-reverse;\r\n    } \r\n    &.notice {\r\n      min-height: 43px;\r\n    }\r\n    .img-wrap{\r\n      width: 60px;\r\n      text-align: center;\r\n      flex-shrink: 0;\r\n    }\r\n    .img-wrap .name{\r\n      display: block;\r\n      margin-top: 5px;\r\n      font-size: 12px;\r\n    }\r\n    .talk-wrap{      \r\n      justify-content: center;\r\n      align-items: center;\r\n   }\r\n  }\r\n\r\n  .old-items{\r\n    .talkBox{\r\n      border-color: #ccc;\r\n    }\r\n    .talkBox.left::before{\r\n      border-right-color: #ccc\r\n    }\r\n    .talkBox.right::before{\r\n      border-left-color: #ccc\r\n    }\r\n  }\r\n  .invite{\r\n        top: 64px;\r\n  }\r\n\r\n  @media (max-width: 960px) {\r\n    .invite{\r\n          top: 48px;\r\n    }\r\n  }\r\n  @media (max-width: 600px) {\r\n    .invite{\r\n        top: 56px;\r\n    }\r\n  }\r\n}\r\n.alarmLayer{\r\n    position: fixed;\r\n    bottom: 100px;\r\n    width: 100%;\r\n    text-align: center;\r\n    transition: all 300ms;\r\n    .wrap{\r\n      position: relative;\r\n      display: inline-block;\r\n      max-width: 90%;\r\n      border: solid 1px #ccc;\r\n      background-color: #fff;\r\n      border-radius: 5px;\r\n      padding: 5px 10px 5px 100px;\r\n    }\r\n    .md-avatar{\r\n      position: absolute;\r\n      left: 5px;\r\n      top: 5px;\r\n    }\r\n    .name{\r\n      position: absolute;\r\n      left: 50px;\r\n      display: block;\r\n      line-height: 40px;\r\n      height: 40px;\r\n    }\r\n    .text{\r\n      display: block;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      width: 100%;\r\n      height: 40px;\r\n      line-height: 40px;\r\n    }\r\n}\r\n// animate\r\n.popmember-enter{\r\n  transform: translate3d(0, 0, 0);\r\n}\r\n.popmember-enter-active{\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n.popmember-leave-active{\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n.msgAlarm-leave-active{\r\n  transform: translate3d(0, 80px, 0);\r\n}\r\n.msgAlarm-enter-active{\r\n  transform: translate3d(0, 80px, 0);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=3629e680&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}