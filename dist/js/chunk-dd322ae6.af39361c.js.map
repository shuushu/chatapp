{"version":3,"sources":["webpack:///./src/container/Member.vue?8a19","webpack:///src/container/Member.vue","webpack:///./src/container/Member.vue?9357","webpack:///./src/container/Member.vue","webpack:///./src/container/Message.vue?1f64","webpack:///./src/components/Talkbox.vue?9c2a","webpack:///./src/container/Member.vue?4711","webpack:///./src/container/Message.vue?7d14","webpack:///./src/components/Talkbox.vue?f2a1","webpack:///src/components/Talkbox.vue","webpack:///./src/components/Talkbox.vue?fd84","webpack:///./src/components/Talkbox.vue","webpack:///src/container/Message.vue","webpack:///./src/container/Message.vue?e5df","webpack:///./src/container/Message.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","invite","chatMember","attrs","id","md-diameter","md-mode","member","md-icon","md-label","md-description","_l","items","key","auth","uid","disabled","value","model","callback","$$v","checkArr","expression","src","photoURL","alt","displayName","_v","_s","email","_e","btnWrap","length","on","click","$event","memberJoin","toggle","staticRenderFns","Membervue_type_script_lang_js_","name","data","temp","props","type","Array","computed","Object","objectSpread","fetchData","filter","vuex_esm","state","isLoading","ready","memberList","namespace","SET_FILTER","created","$run","GET_MEMBER","methods","_this","message","concat","push","SET_JOIN","then","roomKey","$router","TOADY","util","Date","today","GET_CHAT_MEMBER","GET_CHAT_DATE","res","GET_MESSAGE","GET_OLD_MESSAGE","container_Membervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Message_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Talkbox_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Talkbox_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Member_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Member_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","inviteWrap","style","deviceHeight","date","pk","item","isWrite","write","mappingAvatar","mappingUserName","path","domProps","innerHTML","text","msg","pgr","md-value","Talkboxvue_type_template_id_3cabb2d5_render","old","notice","right","_t","Talkboxvue_type_template_id_3cabb2d5_staticRenderFns","Talkboxvue_type_script_lang_js_","Boolean","default","components_Talkboxvue_type_script_lang_js_","Talkbox","Messagevue_type_script_lang_js_","components","Member","scrollFlag","chat","oldMsg","chatDate","progress","height","watch","scrollToEnd","destroyed","main","$off","$route","params","$on","sendMsg","updated","_this2","setTimeout","init","container","$el","querySelector","html","document","body","current","scrollTop","scrollHeight","historyBack","go","_this3","promise_default","a","resolve","addFile","ADD_IMAGE","SEND_MESSAGE","$emit","handleChange","e","_this4","target","reader","FileReader","readAsDataURL","files","onload","thumb","result","clear","container_Messagevue_type_script_lang_js_","Message_component"],"mappings":"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","file":"js/chunk-dd322ae6.af39361c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",class:{ invite: _vm.chatMember },attrs:{\"id\":\"memberList\"}},[(_vm.isLoading)?_c('div',{staticClass:\"wrap-center\"},[_c('md-progress-spinner',{attrs:{\"md-diameter\":50,\"md-mode\":\"indeterminate\"}})],1):_c('div',[(_vm.member === null)?_c('div',{staticClass:\"md-empty-state-wrap\"},[_c('md-empty-state',{staticClass:\"md-primary\",attrs:{\"md-icon\":\"sentiment_dissatisfied\",\"md-label\":\"Nothing in Done\",\"md-description\":\"대화 가능 한 멤버 없음\"}})],1):_c('md-list',_vm._l((_vm.fetchData),function(items,key){return _c('div',{key:key},[(_vm.auth.uid != key)?_c('md-list-item',{staticClass:\"md-triple-line md-dense\"},[_c('md-checkbox',{attrs:{\"disabled\":items.disabled,\"value\":items.uid},model:{value:(_vm.checkArr),callback:function ($$v) {_vm.checkArr=$$v},expression:\"checkArr\"}}),_c('md-avatar',[_c('img',{attrs:{\"src\":items.photoURL,\"alt\":items.displayName}})]),_c('div',{staticClass:\"md-list-item-text\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(items.displayName))]),_c('span',{staticClass:\"desc\"},[_vm._v(_vm._s(items.email))])])],1):_vm._e()],1)}),0),_c('div',{class:{ btnWrap: _vm.chatMember }},[(_vm.checkArr.length > 0)?_c('md-button',{staticClass:\"join md-raised md-accent\",on:{\"click\":function($event){return _vm.memberJoin()}}},[_c('md-icon',{staticClass:\"md-primary\"},[_vm._v(\"people\")]),_vm._v(\" JOIN\\n        \")],1):_vm._e(),(_vm.chatMember)?_c('md-button',{staticClass:\"join md-raised md-primary\",on:{\"click\":function($event){return _vm.toggle()}}},[_c('md-icon',{staticClass:\"md-primary\"},[_vm._v(\"cancel\")]),_vm._v(\" cancel\\n        \")],1):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"memberList\" class=\"page\" :class=\"{ invite: chatMember }\">\r\n    <div v-if=\"isLoading\" class=\"wrap-center\">\r\n      <md-progress-spinner :md-diameter=\"50\" md-mode=\"indeterminate\"></md-progress-spinner>\r\n    </div>\r\n    <div v-else>\r\n      <div v-if=\"member === null\" class=\"md-empty-state-wrap\">\r\n        <md-empty-state\r\n          class=\"md-primary\"\r\n          md-icon=\"sentiment_dissatisfied\"\r\n          md-label=\"Nothing in Done\"\r\n          md-description=\"대화 가능 한 멤버 없음\">\r\n        </md-empty-state>\r\n      </div>      \r\n      <md-list v-else>\r\n        <div v-for=\"(items, key) in fetchData\" :key=\"key\">\r\n            <md-list-item class=\"md-triple-line md-dense\" v-if=\"auth.uid != key\">\r\n                <md-checkbox :disabled=\"items.disabled\" v-model=\"checkArr\" :value=\"items.uid\"></md-checkbox>\r\n                <md-avatar>\r\n                  <img :src=\"items.photoURL\" :alt=\"items.displayName\">\r\n                </md-avatar>\r\n\r\n                <div class=\"md-list-item-text\">\r\n                  <span class=\"title\">{{ items.displayName }}</span>\r\n                  <span class=\"desc\">{{ items.email }}</span>\r\n                </div>\r\n            </md-list-item>          \r\n        </div>\r\n      </md-list>\r\n      <div :class=\"{ btnWrap: chatMember }\">\r\n          <md-button v-if=\"checkArr.length > 0\" class=\"join md-raised md-accent\" @click=\"memberJoin()\">\r\n            <md-icon class=\"md-primary\">people</md-icon> JOIN\r\n          </md-button>\r\n          <md-button v-if=\"chatMember\" class=\"join md-raised md-primary\" @click=\"toggle()\">\r\n            <md-icon class=\"md-primary\">cancel</md-icon> cancel\r\n          </md-button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapState, mapGetters } from 'vuex'\r\n  import { CHAT, MEMBER } from '@/store/namespace'\r\n  import { yyyymm } from '@/common/util'\r\n  \r\n  export default {\r\n    name: 'Member',\r\n    data () {\r\n      return {        \r\n          checkArr: [],\r\n          temp: null      \r\n      }\r\n    },\r\n    props: {\r\n        chatMember: {\r\n            type: Array\r\n        }\r\n    },\r\n    computed: {\r\n      fetchData() {\r\n        if (this.chatMember) {\r\n          return this.filter(this.member, this.chatMember)\r\n        } else {\r\n          return this.member\r\n        }        \r\n      },\r\n      ...mapState({\r\n          auth: state => state.auth,\r\n          isLoading: state => state.ready,\r\n          member: state => state.member.memberList\r\n      }),\r\n      ...mapGetters({\r\n        filter: MEMBER.SET_FILTER\r\n      }) \r\n    },\r\n    created () {      \r\n        this.$run(MEMBER.GET_MEMBER)\r\n    },\r\n    methods: {\r\n        toggle () {\r\n            this.$run('invite')\r\n        },\r\n        memberJoin() {            \r\n            // 채팅방에서 초대할때\r\n            if(this.chatMember) {\r\n              this.$run('dialogAlert', { message: '초대하였습니다.' })\r\n              this.checkArr = this.checkArr.concat(this.chatMember)\r\n            } else {\r\n              // 내 uid 추가              \r\n              this.checkArr.push(this.auth.uid);\r\n            }\r\n   \r\n            this.$run(MEMBER.SET_JOIN, this.checkArr).then(roomKey => {                \r\n                this.$router.push(`/message/${roomKey}`)\r\n                \r\n                const TOADY = yyyymm(new Date());\r\n\r\n                if(this.chatMember) {\r\n                    let data = {\r\n                      key: roomKey,\r\n                      today: TOADY\r\n                    };\r\n\r\n                    // [비정상 접근]새로 고침시 채팅에 속한 멤버 정보가 없으므로 리스트로 보낸다.\r\n                    if (this.member === null) {        \r\n                      this.$router.push('/list')\r\n                    } else {\r\n                      this.$run(CHAT.GET_CHAT_MEMBER, data)\r\n                      this.$run(CHAT.GET_CHAT_DATE, data).then(res => {\r\n                        if (res) {\r\n                            this.$run(CHAT.GET_MESSAGE, data)\r\n                            this.$run(CHAT.GET_OLD_MESSAGE, data)\r\n                            this.toggle();\r\n                        }\r\n                      })\r\n                    } \r\n                }\r\n            })\r\n        }        \r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#memberList{\r\n  &.invite{\r\n    z-index: 30;\r\n    top: 56px;\r\n    width: 100%;\r\n    right: 0;\r\n    background: rgba(0, 0, 0, .5);\r\n    > div{\r\n      margin-left: 20%;\r\n      height: 100%;\r\n      position: absolute;\r\n      width: 80%;\r\n      right: 0;\r\n      padding-top: 0;\r\n      background: #fff;\r\n    }\r\n    .btnWrap{\r\n      display: flex;\r\n      padding: 0 10px 150px 10px;      \r\n      margin: 0;\r\n      background: #fff;\r\n      .md-accent,\r\n      .md-accent + .md-button{\r\n        width: 48%;\r\n      }\r\n    }\r\n  }\r\n  .md-checkbox {\r\n    margin-right: 15px;\r\n  }\r\n  .md-avatar {\r\n    margin-right: 15px;\r\n  }\r\n  .join {\r\n    i {\r\n      margin-right: 5px;\r\n    }\r\n    width: 95%;\r\n    display: block;\r\n    margin: 20px auto 0;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: normal;\r\n  }\r\n  .md-list-item{    \r\n    &::after{\r\n      content: '';\r\n      width: 98%;\r\n      height: 1px;\r\n      display: block;\r\n      background-color: #ccc;\r\n      margin: 0 auto;\r\n    }\r\n    .md-list-item-container{\r\n      padding: 10px 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Member.vue?vue&type=template&id=4e02a74f&\"\nimport script from \"./Member.vue?vue&type=script&lang=js&\"\nexport * from \"./Member.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Member.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Member.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",class:{ inviteWrap:_vm.invite },attrs:{\"id\":\"message\"}},[(_vm.isLoading)?_c('div',{staticClass:\"wrap-center\"},[_c('md-progress-spinner',{attrs:{\"md-diameter\":50,\"md-mode\":\"indeterminate\"}})],1):_c('div',{staticClass:\"message-wrap\",style:((\"min-height:\" + (_vm.deviceHeight-80) + \"px\"))},[_vm._l((_vm.oldMsg),function(date,pk){return _c('div',{key:(\"old-\" + pk),staticClass:\"old-items\"},_vm._l((date),function(item,key){return _c('div',{key:(\"old-item-\" + key),staticClass:\"talk-items\",class:_vm.isWrite(item.write)},[(_vm.isWrite(item.write) != 'notice')?_c('div',{staticClass:\"img-wrap\"},[_c('md-avatar',[_c('img',{attrs:{\"src\":_vm.mappingAvatar(item.write),\"alt\":_vm.mappingUserName(item.write)}})]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.mappingUserName(item.write)))])],1):_vm._e(),_c('div',{staticClass:\"talk-wrap\"},[_c('Talkbox',{class:_vm.isWrite(item.write)},[(item.type === 1)?_c('div',{staticClass:\"addfile-image\"},[_c('img',{attrs:{\"src\":item.path,\"alt\":\"\"}})]):_vm._e(),(item.vhtml)?_c('span',{domProps:{\"innerHTML\":_vm._s(item.text)}}):_c('span',[_vm._v(_vm._s(item.text))])])],1)])}),0)}),_vm._l((_vm.message),function(msg,pk){return _c('div',{key:pk,staticClass:\"talk-items\",class:_vm.isWrite(msg.write)},[(_vm.isWrite(msg.write) != 'notice')?_c('div',{staticClass:\"img-wrap\"},[_c('md-avatar',[_c('img',{attrs:{\"src\":_vm.mappingAvatar(msg.write),\"alt\":_vm.mappingUserName(msg.write)}})]),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.mappingUserName(msg.write)))])],1):_vm._e(),_c('div',{staticClass:\"talk-wrap\"},[_c('Talkbox',{class:_vm.isWrite(msg.write)},[(msg.type === 1)?_c('div',{staticClass:\"addfile-image\"},[_c('img',{attrs:{\"src\":msg.path,\"alt\":\"\"}})]):_vm._e(),(msg.vhtml)?_c('span',{domProps:{\"innerHTML\":_vm._s(msg.text)}}):_c('span',[_vm._v(_vm._s(msg.text))])])],1)])})],2),(_vm.pgr > 0 && _vm.pgr < 100)?_c('div',{staticClass:\"upload-progress\"},[_c('md-progress-spinner',{staticClass:\"md-accent\",attrs:{\"md-mode\":\"determinate\",\"md-value\":_vm.pgr}})],1):_vm._e(),_c('transition',{attrs:{\"name\":\"popmember\"}},[(_vm.invite)?_c('Member',{attrs:{\"chatMember\":_vm.chatMember}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"talkBox\",class:{ old: _vm.old, notice: _vm.notice, right: _vm.right }},[_c('div',{staticClass:\"wrap\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"talkBox\" :class=\"{ old: old, notice: notice, right: right }\">\r\n        <div class=\"wrap\">\r\n            <slot></slot>\r\n        </div>        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'Talkbox',\r\n        props: {\r\n            old: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            notice: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            right: {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .talkBox {\r\n        display: inline-block;\r\n        position: relative;\r\n        padding: 10px;\r\n        margin-left: 10px;\r\n        border-radius: 10px;\r\n        border: solid 2px #448aff;\r\n        font-size: 14px;\r\n    }\r\n    .talkBox .wrap{\r\n        word-break: break-all;\r\n    }\r\n    .talkBox::before{\r\n        content: '';\r\n        position: absolute;\r\n        left: -11px;\r\n        top: 8px;\r\n        width: 0px;\r\n        height: 0px;\r\n        border-top: 5px solid transparent;\r\n        border-bottom: 5px solid transparent;\r\n        border-right: 9px solid #448aff;\r\n    }\r\n    .talkBox.right{\r\n        margin-right: 10px;\r\n    }\r\n    .talkBox.right::before{\r\n        content: '';\r\n        position: absolute;\r\n        left: inherit;\r\n        right: -11px;        \r\n        top: 8px;\r\n        border-top: 5px solid transparent;\r\n        border-bottom: 5px solid transparent;\r\n        border-left: 9px solid #448aff;\r\n        border-right: 0;\r\n    }                \r\n    .talkBox.notice {\r\n        width: 100%;\r\n        position: absolute;\r\n        top: 0;\r\n        margin: 0;\r\n        text-align: center;\r\n        border-width: 1px;\r\n        border-color: #e19c9c;\r\n        background-color: rgba(255, 255, 255, .8);    \r\n    }\r\n    .talkBox.notice::before {\r\n        display: none;\r\n    }\r\n\r\n    .old{\r\n        color: #666;\r\n        border-color: #ccc;        \r\n    }\r\n    .old::before{\r\n        border-right-color: #ccc\r\n    }\r\n    .old.right{\r\n        float: right;\r\n        text-align: right;\r\n    }\r\n    .old.right::before{\r\n        border-left-color: #ccc\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Talkbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Talkbox.vue?vue&type=template&id=3cabb2d5&\"\nimport script from \"./Talkbox.vue?vue&type=script&lang=js&\"\nexport * from \"./Talkbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Talkbox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"message\"  class=\"page\" :class=\"{ inviteWrap:invite }\">\r\n\r\n    <div v-if=\"isLoading\" class=\"wrap-center\">\r\n      <md-progress-spinner :md-diameter=\"50\" md-mode=\"indeterminate\"></md-progress-spinner>\r\n    </div>\r\n    <div class=\"message-wrap\" :style=\"`min-height:${deviceHeight-80}px`\" v-else>\r\n        <!-- 이전 메세지 -->\r\n        <div class=\"old-items\" v-for=\"(date, pk) in oldMsg\" :key=\"`old-${pk}`\">\r\n          <div class=\"talk-items\" :class=\"isWrite(item.write)\" v-for=\"(item, key) in date\" :key=\"`old-item-${key}`\">              \r\n              <div class=\"img-wrap\" v-if=\"isWrite(item.write) != 'notice'\">\r\n                <md-avatar>            \r\n                  <img :src=\"mappingAvatar(item.write)\" :alt=\"mappingUserName(item.write)\">\r\n                </md-avatar>\r\n                <span class=\"name\">{{ mappingUserName(item.write) }}</span>\r\n              </div>\r\n              <div class=\"talk-wrap\">\r\n                  <Talkbox :class=\"isWrite(item.write)\">\r\n                    <div class=\"addfile-image\" v-if=\"item.type === 1\"><img :src=\"item.path\" alt=\"\"></div>\r\n                    <span v-if=\"item.vhtml\" v-html=\"item.text\"></span>\r\n                    <span v-else>{{ item.text }}</span>                    \r\n                  </Talkbox>\r\n              </div>              \r\n          </div>        \r\n        </div>\r\n        <!-- 신규 메세지 -->        \r\n        <div class=\"talk-items\" :class=\"isWrite(msg.write)\" v-for=\"(msg, pk) in message\" :key=\"pk\">\r\n          <div class=\"img-wrap\" v-if=\"isWrite(msg.write) != 'notice'\">\r\n            <md-avatar>            \r\n              <img :src=\"mappingAvatar(msg.write)\" :alt=\"mappingUserName(msg.write)\">\r\n            </md-avatar>\r\n            <span class=\"name\">{{ mappingUserName(msg.write) }}</span>\r\n          </div>\r\n          <div class=\"talk-wrap\">\r\n              <Talkbox :class=\"isWrite(msg.write)\">\r\n                <div class=\"addfile-image\" v-if=\"msg.type === 1\"><img :src=\"msg.path\" alt=\"\"></div>\r\n                <span v-if=\"msg.vhtml\" v-html=\"msg.text\"></span>\r\n                <span v-else>{{ msg.text }}</span>\r\n              </Talkbox>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"upload-progress\" v-if=\"pgr > 0 && pgr < 100\">\r\n      <md-progress-spinner class=\"md-accent\" md-mode=\"determinate\" :md-value=\"pgr\"></md-progress-spinner>\r\n    </div>\r\n\r\n    <transition name=\"popmember\">\r\n      <Member  :chatMember=\"chatMember\" v-if=\"invite\" />\r\n    </transition>\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\n  import { mapState } from 'vuex'\r\n  import { CHAT } from '@/store/namespace'\r\n  import Talkbox from '@/components/Talkbox.vue'\r\n  import Member from '@/container/Member.vue'\r\n  import { EventBus } from '@/main'  \r\n  import { yyyymm, isCurrentView } from '@/common/util'\r\n  \r\n  export default {\r\n    name: 'Message',\r\n    components: { \r\n      Talkbox,\r\n      Member\r\n    },\r\n    data () {\r\n      return {\r\n        scrollFlag: false\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n          invite: state => state.invite,\r\n          auth: state => state.auth,\r\n          isLoading: state => state.ready,\r\n          message: state => state.chat.message,\r\n          oldMsg: state => state.chat.oldMsg,\r\n          member: state => state.member.memberList,\r\n          chatMember: state => state.chat.chatMember,\r\n          chatDate: state => state.chat.chatDate,\r\n          pgr: state => state.chat.progress,\r\n          deviceHeight: state => state.height\r\n      })\r\n    },\r\n    watch: {\r\n      message () {\r\n        this.scrollToEnd()\r\n      }\r\n    },\r\n    destroyed() {\r\n      EventBus.$off('sendMessage')\r\n    },\r\n    created () {\r\n      let data = {\r\n        key: this.$route.params.id,\r\n        today: yyyymm(new Date())\r\n      };      \r\n\r\n      // 풋터메세지폼\r\n      EventBus.$on('sendMessage', value => {        \r\n        if (value) {\r\n            this.sendMsg(value)\r\n        }        \r\n      })\r\n\r\n      // [비정상 접근]새로 고침시 채팅에 속한 멤버 정보가 없으므로 리스트로 보낸다.\r\n      if (this.member === null) {        \r\n        this.$router.push('/list')\r\n      } else {\r\n        this.$run(CHAT.GET_CHAT_MEMBER, data)\r\n        this.$run(CHAT.GET_CHAT_DATE, data).then(res => {\r\n          if (res) {\r\n              this.$run(CHAT.GET_MESSAGE, data)\r\n              this.$run(CHAT.GET_OLD_MESSAGE, data)\r\n          }\r\n        })\r\n      }  \r\n    },\r\n    updated() {\r\n      if (!this.scrollFlag) {          \r\n          setTimeout(() => {            \r\n            this.scrollToEnd(true);\r\n          }, 1000)\r\n          this.scrollFlag = true\r\n        }      \r\n    },\r\n    methods: {\r\n        scrollToEnd(init) {\r\n          let container = this.$el.querySelector('.message-wrap'),\r\n              html = document.querySelector('html'),\r\n              body = document.querySelector('body'),\r\n              deviceHeight = this.deviceHeight,\r\n              current = isCurrentView(deviceHeight, container);\r\n\r\n          if (current || init) {\r\n            html.scrollTop = container.scrollHeight;\r\n            body.scrollTop = container.scrollHeight;\r\n          }        \r\n        },\r\n    \r\n        historyBack(){\r\n          this.$router.go(-1)\r\n        },\r\n        sendMsg(data) {\r\n          data.key = this.$route.params.id\r\n          data.write = this.auth.uid\r\n                  \r\n          new Promise(resolve => {\r\n              // 이미지 첨부할때\r\n              if (data.addFile) {\r\n                this.$run(CHAT.ADD_IMAGE, data.addFile).then(path => {\r\n                  data.path = path;\r\n                  data.type = 1;\r\n                  this.$run(CHAT.SEND_MESSAGE, data)\r\n                  resolve(true)\r\n                })\r\n              } else {\r\n                this.$run(CHAT.SEND_MESSAGE, data)\r\n                resolve(true)\r\n              }\r\n          }).then(res => {\r\n            // 프로세스가 순차처리 되었을때\r\n            if (res) {\r\n              EventBus.$emit('sendResult', true) \r\n              // 내가 메세지를 보내었으면 스크롤을 하단으로 보낸다.              \r\n              this.scrollToEnd(true)\r\n            } else {\r\n              this.$run('dialogAlert', { message: 'Error' })\r\n            }      \r\n          })\r\n        },\r\n        mappingAvatar(uid) {\r\n          if (this.auth.uid === uid) {\r\n            return this.auth.photoURL\r\n          } else {\r\n            return this.member[uid].photoURL\r\n          }\r\n        },\r\n        mappingUserName(uid) {\r\n          if (this.auth.uid === uid) {\r\n            return this.auth.displayName\r\n          } else {\r\n            if (uid !== 'admin') {\r\n              return this.member[uid].displayName\r\n            } else {\r\n              return uid\r\n            }\r\n          }\r\n        },\r\n        isWrite(uid) {\r\n          if (uid === 'admin') {\r\n            return 'notice'\r\n          }\r\n\r\n          if (this.auth.uid === uid) {\r\n            return 'left'\r\n          } else {\r\n            return 'right'\r\n          }\r\n        },\r\n        handleChange(e) {\r\n          \r\n          if (e.target.value) {\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(e.target.files[0]);\r\n\r\n            reader.onload = () => {\r\n              this.thumb = reader.result\r\n            }\r\n            this.addFile = e.target.files[0];\r\n          }\r\n        },\r\n        clear() {\r\n          this.addFile = '';\r\n          this.thumb = '';\r\n        }\r\n\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#message{\r\n  height: auto;\r\n  top: 0;\r\n  z-index: 20;\r\n  padding-top: 48px;\r\n  > div{\r\n    padding: 0;\r\n  }\r\n  .message-wrap{\r\n    padding-bottom: 150px;\r\n    box-sizing: border-box\r\n  }\r\n  // 멤버레이어가 나올때\r\n  &.inviteWrap {\r\n    overflow: hidden;\r\n    height: 100%;\r\n    .message-wrap{      \r\n      height: 100%;\r\n      box-sizing: border-box;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n\r\n  .add-member{\r\n    position: absolute;\r\n    left: 60px;\r\n    top: 17px;\r\n  }\r\n  .addfile-image{\r\n    > img{\r\n      max-width: 150px;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n  .upload-progress{\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 10;\r\n  }\r\n\r\n \r\n  .talk-items{\r\n    display: flex;\r\n    margin: 20px 10px;\r\n    position: relative;\r\n    overflow: hidden;    \r\n    &.right{\r\n          flex-direction: row-reverse;\r\n    } \r\n    &.notice {\r\n      min-height: 43px;\r\n    }\r\n    .img-wrap{\r\n      width: 60px;\r\n      text-align: center;\r\n      flex-shrink: 0;\r\n    }\r\n    .img-wrap .name{\r\n      display: block;\r\n      margin-top: 5px;\r\n      font-size: 12px;\r\n    }\r\n    .talk-wrap{      \r\n      justify-content: center;\r\n      align-items: center;\r\n   }\r\n  }\r\n\r\n  .old-items{\r\n    .talkBox{\r\n      border-color: #ccc;\r\n    }\r\n    .talkBox.left::before{\r\n      border-right-color: #ccc\r\n    }\r\n    .talkBox.right::before{\r\n      border-left-color: #ccc\r\n    }\r\n  }\r\n  .invite{\r\n        top: 64px;\r\n  }\r\n\r\n  @media (max-width: 960px) {\r\n    .invite{\r\n          top: 48px;\r\n    }\r\n  }\r\n  @media (max-width: 600px) {\r\n    .invite{\r\n        top: 56px;\r\n    }\r\n  }\r\n}\r\n// animate\r\n.popmember-enter{\r\n  transform: translate3d(0, 0, 0);\r\n}\r\n.popmember-enter-active{\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n.popmember-leave-active{\r\n  transform: translate3d(100%, 0, 0);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=cb8833f0&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}